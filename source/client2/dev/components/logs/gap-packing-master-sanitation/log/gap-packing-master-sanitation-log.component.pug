include ../../../log-ionic-materialize.pug

+fullLogWrapper()
  div(*ngIf='showLog == true')
    block header
      log-header([log]='logHeaderData', [dateGroup]='captureForm')
    form([formGroup]='captureForm', (ngSubmit)='save()')
      +card()(*ngFor='let area of log.areas; let j=index')
        +cardHeader("{{area.name}}")
        +cardContent()
          div(*ngFor='let type of area.types; let k=index')
            div(style="font-weight: bold;") {{type.name}} {{areaOffset[j] + typeOffset[k]}}
            gap-packing-master-sanitation-item([item]='item', [itemForm]='captureForm.controls.items.controls[i + areaOffset[j] + typeOffset[k]]', *ngFor='let item of type.items; let i=index')
      block buttonRow
        +updateLogButtonRow("{{ 'Log.send_report' | translate:lang }}", "{{ 'Log.finish_report' | translate:lang }}", "{{ 'Log.back_report' | translate:lang }}")